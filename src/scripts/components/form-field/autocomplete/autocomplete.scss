@import "../../../../scss/00_Abstracts/index";

ks-autocomplete {
    .autocomplete {
        position: relative;

        .search-field {
            width: 100%;
            height: 3.25rem;
            @include r-var(--border-radius);
            @include b();
            @include p(md);
            @include shadow(inner);

            &:disabled {
                cursor: not-allowed;
                background-color: rgb(var(--input-background-color));
                color: rgb(var(--disabled-color));
                @include shadow(none);
            }

            &::placeholder {
                opacity: 0.7;
                font-style: italic;
                color: rgb(var(--placeholder-color));
            }

            &[aria-invalid="true"] {
                border-color: rgb(var(--error-message-color));
            }

            &.size {
                &-sm {
                    height: 2.5rem;
                    @include py(sm);
                    @include font-size(sm);
                }

                &-md {
                    height: 3rem;
                    @include py(md);
                    @include font-size(sm);
                }

                &-lg {
                    height: 3.75rem;
                    @include py(lg);
                    @include font-size(md);
                }
            }
        }

        .input-icons {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgb(var(--input-background-color));
            color: rgb(var(--icon-color));
            @include font-size(md);
            @include mr(sm);
            @include p(xxs);
            @include color(light, darker);


            ks-button {
                .icon {
                    font-size: var(--input-font-size);
                    color: rgb(var(--input-button-color));
                }
            }

            .search-icon {
                pointer-events: none;
            }
        }

        .dropdown-options {
            visibility: hidden;
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
            left: 0;
            right: 0;
            position: absolute;
            list-style: none;
            width: auto;
            white-space: nowrap;
            max-height: 0;
            overflow: hidden;
            background-color: rgb(var(--input-background-color));
            color: rgb(var(--input-color));
            @include b();
            @include bt(none);
            @include rb-var(--border-radius);
            @include z-index(xs);
            @include shadow(sm);
            @include p(none);
            @include m(none);
            @include transition();

            .option {
                @include p(md);

                &:focus {
                    @include by();
                    @include bg-color(light, lighter);
                }

                &:first-child:focus {
                    @include bt(none);
                }

                &:hover {
                    @include bg-color(light, lighter);
                }
            }
        }

        [aria-expanded="true"] {
            @include rb(none);
        }

        [aria-expanded="true"]~.dropdown-options {
            visibility: visible;
            overflow-y: auto;
            @include transition();
        }
    }
}

@import "../../../scss/00_Abstracts/index";

.ks-accordion {
    display: block;

    .accordion-slide {
        display: flex;
        flex-direction: column;
        width: 100%;
        @include mt(-xxs);

        &:first-child {
            @include mt(none);

            .accordion-heading {
                @include radius-t(sm);
            }
        }

        &:last-child {
            .accordion-heading {
                @include radius-b(sm);

                &[aria-expanded="false"] {
                    transition-delay: 0.5s;
                    transition-property: border-radius;
                }

                &[aria-expanded="true"] {
                    @include radius-b(none);

                    &+.accordion-content {
                        @include radius-b(sm);
                    }
                }
            }
        }

        .accordion-heading {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            font-weight: bold;
            background-color: white;
            @include color(primary);
            @include font-size(sm);
            @include border($size: xxs, $color: primary);
            @include px(lg);
            @include mb(-xxs);

            .accordion-icon {
                line-height: 1;
                @include color(primary);
                @include font-size(md);
                @include transition($speed: med);
            }

            &:focus {
                @include default-outline();
            }

            &[aria-expanded="true"] {
                .accordion-icon {
                    transform: rotate(-180deg);
                    @include transition($speed: med);
                }
            }
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            visibility: hidden;
            @include transition($speed: med);
            @include px(lg);
            @include border-x($size: xxs, $color: primary);
            @include border-b($size: xxs, $color: primary);

            &[aria-hidden="false"] {
                visibility: visible;
                @include py(lg);
            }
        }
    }

    &.sm {
        .accordion-slide {
            .accordion-heading {
                @include py(sm);
            }
        }
    }

    &.md {
        .accordion-slide {
            .accordion-heading {
                @include py(md);
            }
        }
    }

    &.lg {
        .accordion-slide {
            .accordion-heading {
                @include py(lg);
            }
        }
    }
}
